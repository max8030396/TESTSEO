{"version":3,"sources":["webpack:///./src/components/MessageItem.vue?0769","webpack:///./src/components/MessageItem.vue","webpack:///src/components/MessageItem.vue","webpack:///./src/components/MessageItem.vue?f59d","webpack:///./src/components/MessageItem.vue?117c","webpack:///./src/components/MessageItem.vue?582b","webpack:///./src/components/MessageItem.vue?3006"],"names":["render","_vm","_c","_self","staticClass","class","isMyMsg","isVideo","isText","_v","_s","item","message","text","isImg","staticStyle","isLoading","attrs","_e","directives","name","rawName","value","title","navbar","expression","isNoExists","url","on","imgLoaded","imgError","fileName","isRead","$formatTime","senderTime","staticRenderFns","props","type","Object","default","userID","String","data","computed","messageType","senderID","methods","beforeMount"],"mappings":"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","file":"my-custom-element.5.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=style&index=0&id=51c92bce&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"27b2cbb0\", content, shadowRoot)\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"messageItem\",class:[{'isMyMsg': _vm.isMyMsg}, {'videoStyle': _vm.isVideo}]},[_c('div',{staticClass:\"itemContent\"},[(_vm.isText)?_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.item.message.text))]):(_vm.isImg)?_c('div',{staticClass:\"position-relative\",staticStyle:{\"min-width\":\"100px\"}},[(_vm.isLoading)?_c('div',{staticClass:\"loading\"},[_c('b-spinner',{attrs:{\"variant\":\"primary\",\"label\":\"Spinning\"}})],1):_vm._e(),_c('img',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({ title: false, navbar: false }),expression:\"{ title: false, navbar: false }\"}],staticClass:\"contentImg\",class:{'d-none': _vm.isNoExists},attrs:{\"src\":_vm.item.message.url},on:{\"load\":_vm.imgLoaded,\"error\":_vm.imgError}}),(_vm.isNoExists)?_c('div',{staticClass:\"notExists\"},[_vm._v(\"圖片已失效\")]):_vm._e()]):(_vm.isVideo)?_c('b-embed',{attrs:{\"type\":\"video\",\"aspect\":\"16by9\",\"controls\":\"\",\"poster\":\"poster.png\",\"src\":_vm.item.message.url}},[_c('source',{attrs:{\"src\":\"dev-stories.webm\",\"type\":\"video/webm\"}}),_c('source',{attrs:{\"src\":\"dev-stories.mp4\",\"type\":\"video/mp4\"}})]):_c('a',{attrs:{\"href\":_vm.item.message.url,\"target\":\"_blank\",\"download\":\"\"}},[_vm._v(_vm._s(_vm.item.message.fileName))])],1),_c('div',{staticClass:\"itemInfo\"},[_c('div',{staticClass:\"itemStatus\"},[_vm._v(_vm._s(_vm.isMyMsg && _vm.item.isRead ? '已讀' : ''))]),_c('div',{staticClass:\"itemTimestamp\"},[_vm._v(_vm._s(_vm.$formatTime(_vm.item.senderTime, 'h:mm')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n.messageItem(:class=\"[{'isMyMsg': isMyMsg}, {'videoStyle': isVideo}]\")\r\n  .itemContent\r\n    span.content(v-if=\"isText\") {{ item.message.text }}\r\n    .position-relative(v-else-if=\"isImg\" style=\"min-width: 100px;\")\r\n      .loading(v-if=\"isLoading\")\r\n        b-spinner(variant=\"primary\" label=\"Spinning\")\r\n      img(\r\n        v-viewer=\"{ title: false, navbar: false }\"\r\n        class=\"contentImg\"\r\n        :class=\"{'d-none': isNoExists}\"\r\n        :src=\"item.message.url\"\r\n        @load=\"imgLoaded\"\r\n        @error=\"imgError\")\r\n      .notExists(v-if=\"isNoExists\") 圖片已失效\r\n    b-embed(v-else-if=\"isVideo\" type=\"video\" aspect=\"16by9\" controls poster=\"poster.png\" :src=\"item.message.url\")\r\n      source(src='dev-stories.webm' type='video/webm')\r\n      source(src='dev-stories.mp4' type='video/mp4')\r\n    a(v-else :href=\"item.message.url\" target=\"_blank\" download) {{ item.message.fileName }}\r\n\r\n  .itemInfo\r\n    .itemStatus {{ isMyMsg && item.isRead ? '已讀' : '' }}\r\n    .itemTimestamp {{ $formatTime(item.senderTime, 'h:mm') }}\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MessageItem',\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => null\r\n    },\r\n    userID: {\r\n      type: String,\r\n      default: () => null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isNoExists: false,\r\n      isLoading: true,\r\n    }\r\n  },\r\n  computed: {\r\n    isText() {\r\n      return this.item.messageType === 1;\r\n    },\r\n    isImg() {\r\n      return this.item.messageType === 2;\r\n    },\r\n    isVideo() {\r\n      return this.item.messageType === 3;\r\n    },\r\n    isMyMsg() {\r\n      return this.item.senderID === this.userID;\r\n    }\r\n  },\r\n  methods: {\r\n    imgError() {\r\n      this.isLoading = false;\r\n      this.isNoExists = true;\r\n    },\r\n    imgLoaded() {\r\n      this.isLoading = false;\r\n    },\r\n  },\r\n  beforeMount() {\r\n    if(!this.isImg) this.isLoading = false;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.messageItem {\r\n  display: flex;\r\n  width: 50%;\r\n  align-items: flex-end;\r\n  &.isMyMsg {\r\n    flex-direction: row-reverse;\r\n    margin-left: auto;\r\n    .itemContent {\r\n      margin-right: 0;\r\n      margin-left: 6px;\r\n      background-color: #ffce0024;\r\n    }\r\n  }\r\n  &.videoStyle {\r\n    width: 300px;\r\n    .itemContent {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .itemContent {\r\n    max-width: 100%;\r\n    word-wrap: break-word;\r\n    line-height: 1;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    margin-right: 6px;\r\n\r\n    .contentImg {\r\n      width: 100%;\r\n      height: 70px;\r\n      min-height: 70px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .content {\r\n      white-space: pre-line;\r\n    }\r\n\r\n    .notExists {\r\n      color: #a7a7a7;\r\n    }\r\n  }\r\n  .itemInfo {\r\n    font-size: 12px;\r\n    color: #a7a7a7;\r\n    display: flex;\r\n    flex-direction: column;\r\n    line-height: 1;\r\n    margin-bottom: 2px; // 補正\r\n    white-space: nowrap;\r\n    .itemStatus {\r\n      height: 12px;\r\n      margin-bottom: 4px;\r\n    }\r\n    .itemTimestamp {\r\n      height: 12px;\r\n    }\r\n  }\r\n  .loading {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    .spinner-border {\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n  }\r\n}\r\n\r\n.viewer-footer {\r\n  bottom: 30px;\r\n  .viewer-play, .viewer-prev, .viewer-next, .viewer-one-to-one {\r\n    display: none;\r\n  }\r\n  .viewer-toolbar li + li {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageItem.vue?vue&type=template&id=51c92bce&lang=pug&\"\nimport script from \"./MessageItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageItem.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MessageItem.vue?vue&type=style&index=0&id=51c92bce&prod&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=style&index=0&id=51c92bce&prod&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".messageItem{display:flex;width:50%;align-items:flex-end}.messageItem.isMyMsg{flex-direction:row-reverse;margin-left:auto}.messageItem.isMyMsg .itemContent{margin-right:0;margin-left:6px;background-color:rgba(255,206,0,.1411764706)}.messageItem.videoStyle{width:300px}.messageItem.videoStyle .itemContent{width:100%}.messageItem .itemContent{max-width:100%;word-wrap:break-word;line-height:1;padding:8px;border:1px solid #ddd;border-radius:4px;margin-right:6px}.messageItem .itemContent .contentImg{width:100%;height:70px;min-height:70px;cursor:pointer}.messageItem .itemContent .content{white-space:pre-line}.messageItem .itemContent .notExists{color:#a7a7a7}.messageItem .itemInfo{font-size:12px;color:#a7a7a7;display:flex;flex-direction:column;line-height:1;margin-bottom:2px;white-space:nowrap}.messageItem .itemInfo .itemStatus{height:12px;margin-bottom:4px}.messageItem .itemInfo .itemTimestamp{height:12px}.messageItem .loading{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.messageItem .loading .spinner-border{width:20px;height:20px}.viewer-footer{bottom:30px}.viewer-footer .viewer-next,.viewer-footer .viewer-one-to-one,.viewer-footer .viewer-play,.viewer-footer .viewer-prev{display:none}.viewer-footer .viewer-toolbar li+li{margin-left:8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}