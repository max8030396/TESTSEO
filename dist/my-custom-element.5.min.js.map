{"version":3,"sources":["webpack:///./src/components/MessageItem.vue?0769","webpack:///./src/components/MessageItem.vue","webpack:///src/components/MessageItem.vue","webpack:///./src/components/MessageItem.vue?f59d","webpack:///./src/components/MessageItem.vue?117c","webpack:///./src/components/MessageItem.vue?582b","webpack:///./src/components/MessageItem.vue?3006"],"names":["content","__esModule","default","module","i","locals","exports","add","__inject__","shadowRoot","render","_vm","this","_c","_self","staticClass","class","isMyMsg","isVideo","isText","_v","_s","item","message","text","isImg","staticStyle","isLoading","attrs","_e","directives","name","rawName","value","title","navbar","expression","isNoExists","url","on","imgLoaded","imgError","fileName","isRead","$formatTime","senderTime","staticRenderFns","props","type","Object","userID","String","data","computed","messageType","senderID","methods","beforeMount","injectStyles","context","style0","component","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"my-custom-element.5.min.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=style&index=0&id=51c92bce&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"27b2cbb0\", content, shadowRoot)\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"messageItem\",class:[{'isMyMsg': _vm.isMyMsg}, {'videoStyle': _vm.isVideo}]},[_c('div',{staticClass:\"itemContent\"},[(_vm.isText)?_c('span',{staticClass:\"content\"},[_vm._v(_vm._s(_vm.item.message.text))]):(_vm.isImg)?_c('div',{staticClass:\"position-relative\",staticStyle:{\"min-width\":\"100px\"}},[(_vm.isLoading)?_c('div',{staticClass:\"loading\"},[_c('b-spinner',{attrs:{\"variant\":\"primary\",\"label\":\"Spinning\"}})],1):_vm._e(),_c('img',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({ title: false, navbar: false }),expression:\"{ title: false, navbar: false }\"}],staticClass:\"contentImg\",class:{'d-none': _vm.isNoExists},attrs:{\"src\":_vm.item.message.url},on:{\"load\":_vm.imgLoaded,\"error\":_vm.imgError}}),(_vm.isNoExists)?_c('div',{staticClass:\"notExists\"},[_vm._v(\"圖片已失效\")]):_vm._e()]):(_vm.isVideo)?_c('b-embed',{attrs:{\"type\":\"video\",\"aspect\":\"16by9\",\"controls\":\"\",\"poster\":\"poster.png\",\"src\":_vm.item.message.url}},[_c('source',{attrs:{\"src\":\"dev-stories.webm\",\"type\":\"video/webm\"}}),_c('source',{attrs:{\"src\":\"dev-stories.mp4\",\"type\":\"video/mp4\"}})]):_c('a',{attrs:{\"href\":_vm.item.message.url,\"target\":\"_blank\",\"download\":\"\"}},[_vm._v(_vm._s(_vm.item.message.fileName))])],1),_c('div',{staticClass:\"itemInfo\"},[_c('div',{staticClass:\"itemStatus\"},[_vm._v(_vm._s(_vm.isMyMsg && _vm.item.isRead ? '已讀' : ''))]),_c('div',{staticClass:\"itemTimestamp\"},[_vm._v(_vm._s(_vm.$formatTime(_vm.item.senderTime, 'h:mm')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n.messageItem(:class=\"[{'isMyMsg': isMyMsg}, {'videoStyle': isVideo}]\")\r\n  .itemContent\r\n    span.content(v-if=\"isText\") {{ item.message.text }}\r\n    .position-relative(v-else-if=\"isImg\" style=\"min-width: 100px;\")\r\n      .loading(v-if=\"isLoading\")\r\n        b-spinner(variant=\"primary\" label=\"Spinning\")\r\n      img(\r\n        v-viewer=\"{ title: false, navbar: false }\"\r\n        class=\"contentImg\"\r\n        :class=\"{'d-none': isNoExists}\"\r\n        :src=\"item.message.url\"\r\n        @load=\"imgLoaded\"\r\n        @error=\"imgError\")\r\n      .notExists(v-if=\"isNoExists\") 圖片已失效\r\n    b-embed(v-else-if=\"isVideo\" type=\"video\" aspect=\"16by9\" controls poster=\"poster.png\" :src=\"item.message.url\")\r\n      source(src='dev-stories.webm' type='video/webm')\r\n      source(src='dev-stories.mp4' type='video/mp4')\r\n    a(v-else :href=\"item.message.url\" target=\"_blank\" download) {{ item.message.fileName }}\r\n\r\n  .itemInfo\r\n    .itemStatus {{ isMyMsg && item.isRead ? '已讀' : '' }}\r\n    .itemTimestamp {{ $formatTime(item.senderTime, 'h:mm') }}\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MessageItem',\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => null\r\n    },\r\n    userID: {\r\n      type: String,\r\n      default: () => null\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isNoExists: false,\r\n      isLoading: true,\r\n    }\r\n  },\r\n  computed: {\r\n    isText() {\r\n      return this.item.messageType === 1;\r\n    },\r\n    isImg() {\r\n      return this.item.messageType === 2;\r\n    },\r\n    isVideo() {\r\n      return this.item.messageType === 3;\r\n    },\r\n    isMyMsg() {\r\n      return this.item.senderID === this.userID;\r\n    }\r\n  },\r\n  methods: {\r\n    imgError() {\r\n      this.isLoading = false;\r\n      this.isNoExists = true;\r\n    },\r\n    imgLoaded() {\r\n      this.isLoading = false;\r\n    },\r\n  },\r\n  beforeMount() {\r\n    if(!this.isImg) this.isLoading = false;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.messageItem {\r\n  display: flex;\r\n  width: 50%;\r\n  align-items: flex-end;\r\n  &.isMyMsg {\r\n    flex-direction: row-reverse;\r\n    margin-left: auto;\r\n    .itemContent {\r\n      margin-right: 0;\r\n      margin-left: 6px;\r\n      background-color: #ffce0024;\r\n    }\r\n  }\r\n  &.videoStyle {\r\n    width: 300px;\r\n    .itemContent {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .itemContent {\r\n    max-width: 100%;\r\n    word-wrap: break-word;\r\n    line-height: 1;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n    margin-right: 6px;\r\n\r\n    .contentImg {\r\n      width: 100%;\r\n      height: 70px;\r\n      min-height: 70px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .content {\r\n      white-space: pre-line;\r\n    }\r\n\r\n    .notExists {\r\n      color: #a7a7a7;\r\n    }\r\n  }\r\n  .itemInfo {\r\n    font-size: 12px;\r\n    color: #a7a7a7;\r\n    display: flex;\r\n    flex-direction: column;\r\n    line-height: 1;\r\n    margin-bottom: 2px; // 補正\r\n    white-space: nowrap;\r\n    .itemStatus {\r\n      height: 12px;\r\n      margin-bottom: 4px;\r\n    }\r\n    .itemTimestamp {\r\n      height: 12px;\r\n    }\r\n  }\r\n  .loading {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    .spinner-border {\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n  }\r\n}\r\n\r\n.viewer-footer {\r\n  bottom: 30px;\r\n  .viewer-play, .viewer-prev, .viewer-next, .viewer-one-to-one {\r\n    display: none;\r\n  }\r\n  .viewer-toolbar li + li {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageItem.vue?vue&type=template&id=51c92bce&lang=pug&\"\nimport script from \"./MessageItem.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageItem.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./MessageItem.vue?vue&type=style&index=0&id=51c92bce&prod&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageItem.vue?vue&type=style&index=0&id=51c92bce&prod&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".messageItem{display:flex;width:50%;align-items:flex-end}.messageItem.isMyMsg{flex-direction:row-reverse;margin-left:auto}.messageItem.isMyMsg .itemContent{margin-right:0;margin-left:6px;background-color:rgba(255,206,0,.1411764706)}.messageItem.videoStyle{width:300px}.messageItem.videoStyle .itemContent{width:100%}.messageItem .itemContent{max-width:100%;word-wrap:break-word;line-height:1;padding:8px;border:1px solid #ddd;border-radius:4px;margin-right:6px}.messageItem .itemContent .contentImg{width:100%;height:70px;min-height:70px;cursor:pointer}.messageItem .itemContent .content{white-space:pre-line}.messageItem .itemContent .notExists{color:#a7a7a7}.messageItem .itemInfo{font-size:12px;color:#a7a7a7;display:flex;flex-direction:column;line-height:1;margin-bottom:2px;white-space:nowrap}.messageItem .itemInfo .itemStatus{height:12px;margin-bottom:4px}.messageItem .itemInfo .itemTimestamp{height:12px}.messageItem .loading{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.messageItem .loading .spinner-border{width:20px;height:20px}.viewer-footer{bottom:30px}.viewer-footer .viewer-next,.viewer-footer .viewer-one-to-one,.viewer-footer .viewer-play,.viewer-footer .viewer-prev{display:none}.viewer-footer .viewer-toolbar li+li{margin-left:8px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}